"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.coverageToJson = coverageToJson;
exports.coverageFromJson = coverageFromJson;
const core_1 = require("@ton/core");
function coverageToJson(coverage) {
    const lines = coverage.lines;
    return JSON.stringify({
        code: coverage.code.toBoc().toString("hex"),
        lines: lines.map((line, index) => {
            if (line.info.$ === "Covered") {
                return {
                    lineNumber: index,
                    line: line.line,
                    info: {
                        ...line.info,
                    },
                };
            }
            return {
                lineNumber: index,
                ...line,
            };
        }),
    });
}
function coverageFromJson(string) {
    const data = JSON.parse(string);
    return {
        code: core_1.Cell.fromHex(data.code),
        lines: data.lines
    };
}
