{"name":"Escrow","code":"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","abi":"{\"name\":\"Escrow\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"ConfirmDelivery\",\"header\":1,\"fields\":[]},{\"name\":\"RaiseDispute\",\"header\":2,\"fields\":[]},{\"name\":\"ResolveToBuyer\",\"header\":3,\"fields\":[]},{\"name\":\"ResolveToSeller\",\"header\":4,\"fields\":[]},{\"name\":\"CancelIfNoDeposit\",\"header\":5,\"fields\":[]},{\"name\":\"ClaimExpired\",\"header\":6,\"fields\":[]},{\"name\":\"EmergencyWithdraw\",\"header\":7,\"fields\":[]},{\"name\":\"RetryPayout\",\"header\":9,\"fields\":[]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"DepositReceived\",\"header\":16,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TradeCompleted\",\"header\":17,\"fields\":[{\"name\":\"buyer\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"fee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}}]},{\"name\":\"PayoutRetried\",\"header\":18,\"fields\":[{\"name\":\"retriedBy\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"Escrow$Data\",\"header\":null,\"fields\":[{\"name\":\"seller\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"buyer\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"admin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"expectedJettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"commissionBps\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"feeW1\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feeW2\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feeW3\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"status\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"deposited\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"deadline\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"depositVerified\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"payoutAttempted\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ConfirmDelivery\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RaiseDispute\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ResolveToBuyer\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ResolveToSeller\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelIfNoDeposit\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ClaimExpired\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RetryPayout\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"EmergencyWithdraw\"}}],\"getters\":[],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"1661\":{\"message\":\"Commission must be <= 100%\"},\"6243\":{\"message\":\"Amount must be > 0\"},\"6793\":{\"message\":\"Invalid USDT jetton wallet\"},\"8451\":{\"message\":\"Payout already attempted\"},\"8823\":{\"message\":\"Only buyer can dispute\"},\"10550\":{\"message\":\"Deposit must equal trade amount\"},\"10924\":{\"message\":\"Not pending deposit\"},\"12978\":{\"message\":\"Invalid status - already resolved\"},\"14294\":{\"message\":\"Not allowed\"},\"15210\":{\"message\":\"Only admin can retry payouts\"},\"16461\":{\"message\":\"Only admin\"},\"16651\":{\"message\":\"Jetton wallet not set\"},\"27002\":{\"message\":\"Invalid status\"},\"35739\":{\"message\":\"Already deposited\"},\"36840\":{\"message\":\"Only seller can deposit\"},\"41175\":{\"message\":\"Must be active - already resolved\"},\"41485\":{\"message\":\"Seller must wait until deadline\"},\"48201\":{\"message\":\"Deadline not reached\"},\"50390\":{\"message\":\"No deadline set\"},\"55532\":{\"message\":\"Only seller can confirm\"},\"57743\":{\"message\":\"Only admin can resolve\"},\"60623\":{\"message\":\"No verified deposit\"},\"62616\":{\"message\":\"Deposit not verified\"},\"62669\":{\"message\":\"Invalid status for retry\"},\"63402\":{\"message\":\"Only buyer can claim expired\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[{"name":"seller_","type":{"kind":"simple","type":"address","optional":false}},{"name":"buyer_","type":{"kind":"simple","type":"address","optional":false}},{"name":"admin_","type":{"kind":"simple","type":"address","optional":false}},{"name":"amount_","type":{"kind":"simple","type":"uint","optional":false,"format":128}},{"name":"commissionBps_","type":{"kind":"simple","type":"uint","optional":false,"format":16}},{"name":"feeW1_","type":{"kind":"simple","type":"address","optional":false}},{"name":"feeW2_","type":{"kind":"simple","type":"address","optional":false}},{"name":"feeW3_","type":{"kind":"simple","type":"address","optional":false}},{"name":"deadline_","type":{"kind":"simple","type":"uint","optional":false,"format":64}},{"name":"expectedJettonWallet_","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/ton/escrow.tact":"Ly8gRXNjcm93IGNvbnRyYWN0IGZvciBVU0RUIG9uIFRPTiBUZXN0bmV0IChhdXRvbWF0ZWQgZGVwb3NpdCBjb25maXJtYXRpb24pCi8vIEZsb3c6IFNlbGxlciBkZXBsb3lzIC0+IFNlbGxlciBkZXBvc2l0cyBVU0RUIChjb250cmFjdCBhdXRvLXZlcmlmaWVzKSAtPiBCdXllciBwYXlzIG9mZi1jaGFpbiAtPiBTZWxsZXIgY29uZmlybXMgLT4gRXNjcm93IHJlbGVhc2VzIFVTRFQKLy8gQWRtaW4gb25seSBmb3IgZGlzcHV0ZXMsIHJldHJpZXMsIGVtZXJnZW5jeSBhY3Rpb25zLgoKLy8gQmluYXJ5IG1lc3NhZ2UgZGVmaW5pdGlvbnMKbWVzc2FnZSgweDEpIENvbmZpcm1EZWxpdmVyeSB7fQptZXNzYWdlKDB4MikgUmFpc2VEaXNwdXRlIHt9Cm1lc3NhZ2UoMHgzKSBSZXNvbHZlVG9CdXllciB7fQptZXNzYWdlKDB4NCkgUmVzb2x2ZVRvU2VsbGVyIHt9Cm1lc3NhZ2UoMHg1KSBDYW5jZWxJZk5vRGVwb3NpdCB7fQptZXNzYWdlKDB4NikgQ2xhaW1FeHBpcmVkIHt9Cm1lc3NhZ2UoMHg3KSBFbWVyZ2VuY3lXaXRoZHJhdyB7fQptZXNzYWdlKDB4OSkgUmV0cnlQYXlvdXQge30gIC8vIGtlZXAgUmV0cnlQYXlvdXQKCi8vIFN0YW5kYXJkIGpldHRvbiBub3RpZmljYXRpb24gd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkIChURVAtNzQgdHlwaWNhbCBzZWxlY3RvcikKbWVzc2FnZSgweDczNjJkMDljKSBUb2tlbk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgdWludDEyODsgIC8vIHRva2VuIGFtb3VudCBpbiBzbWFsbGVzdCB1bml0cwogICAgZnJvbTogQWRkcmVzczsKICAgIGZvcndhcmRQYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KCi8vIEV2ZW50IG1lc3NhZ2VzIGZvciBvZmYtY2hhaW4gbW9uaXRvcmluZwptZXNzYWdlKDB4MTApIERlcG9zaXRSZWNlaXZlZCB7CiAgICBhbW91bnQ6IEludCBhcyB1aW50MTI4OwogICAgZnJvbTogQWRkcmVzczsKICAgIGpldHRvbldhbGxldDogQWRkcmVzczsKfQptZXNzYWdlKDB4MTEpIFRyYWRlQ29tcGxldGVkIHsKICAgIGJ1eWVyOiBBZGRyZXNzOwogICAgYW1vdW50OiBJbnQgYXMgdWludDEyODsKICAgIGZlZTogSW50IGFzIHVpbnQxMjg7Cn0KbWVzc2FnZSgweDEyKSBQYXlvdXRSZXRyaWVkIHsKICAgIHJldHJpZWRCeTogQWRkcmVzczsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KCi8vIFRlc3RuZXQgVVNEVCBNYXN0ZXIgKHByb3ZpZGVkKQpjb25zdCBVU0RUX01BU1RFUjogQWRkcmVzcyA9IGFkZHJlc3MoImtRRDBHS0JNOFpicnlWazJhRVNtemZVNmI5Yl84ZXJhX0lrdkJTRUx1akZaUHN5eSIpOwoKLy8gRmVlIHNwbGl0IGhlbHBlcnMKZnVuIGNvbXB1dGVXMShmZWU6IEludCk6IEludCB7IHJldHVybiAoZmVlICogNzAwMCkgLyAxMDAwMDsgfQpmdW4gY29tcHV0ZVcyKGZlZTogSW50KTogSW50IHsgcmV0dXJuIChmZWUgKiAyMjUwKSAvIDEwMDAwOyB9CmZ1biBjb21wdXRlVzMoZmVlOiBJbnQsIHcxOiBJbnQsIHcyOiBJbnQpOiBJbnQgeyByZXR1cm4gZmVlIC0gdzEgLSB3MjsgfQoKY29udHJhY3QgRXNjcm93IHsKCiAgLy8gUGFydGllcwogIHNlbGxlcjogQWRkcmVzczsKICBidXllcjogQWRkcmVzczsKICBhZG1pbjogQWRkcmVzczsKCiAgLy8gU2VjdXJpdHk6IGV4cGVjdGVkIGpldHRvbiB3YWxsZXQgY29tcHV0ZWQgb2ZmLWNoYWluIGFuZCBwYXNzZWQgYXQgZGVwbG95CiAgZXhwZWN0ZWRKZXR0b25XYWxsZXQ6IEFkZHJlc3M7IC8vIFJFUVVJUkVEIC0gcHJlY29tcHV0ZWQgYnkgYm90IGZyb20gVVNEVF9NQVNURVIgKyBlc2Nyb3dfYWRkcmVzcwoKICAvLyBUcmFkZQogIGFtb3VudDogSW50IGFzIHVpbnQxMjg7ICAgICAgICAgLy8gdHJhZGUgYW1vdW50IGluIFVTRFQgKHNtYWxsZXN0IHVuaXRzLCBlLmcuLCA2IGRlY2ltYWxzKQogIGNvbW1pc3Npb25CcHM6IEludCBhcyB1aW50MTY7ICAgLy8gZmVlIGluIGJhc2lzIHBvaW50cyAoMTAwMDAgPSAxMDAlKQoKICAvLyBGZWUgcmVjaXBpZW50cyAocGxhdGZvcm0pCiAgZmVlVzE6IEFkZHJlc3M7IC8vIDcwJQogIGZlZVcyOiBBZGRyZXNzOyAvLyAyMi41JQogIGZlZVczOiBBZGRyZXNzOyAvLyA3LjUlICsgcmVtYWluZGVyCgogIC8vIFN0YXR1cwogIC8vIDAgPSBQZW5kaW5nRGVwb3NpdCwgMSA9IEFjdGl2ZSwgMiA9IERpc3B1dGUsIDMgPSBSZWxlYXNlZCwgNCA9IFJlZnVuZGVkL0NhbmNlbGxlZAogIHN0YXR1czogSW50IGFzIHVpbnQ4OwoKICAvLyBkZXBvc2l0ZWQgdG9rZW5zIHJlY29yZGVkCiAgZGVwb3NpdGVkOiBJbnQgYXMgdWludDEyODsKCiAgLy8gb3B0aW9uYWwgdW5peCBkZWFkbGluZQogIGRlYWRsaW5lOiBJbnQgYXMgdWludDY0OwoKICAvLyBqZXR0b24gd2FsbGV0IGFkZHJlc3MgZm9yIHRoaXMgZXNjcm93ICh2ZXJpZmllZCkKICBqZXR0b25XYWxsZXQ6IEFkZHJlc3M/OwoKICAvLyBkZXBvc2l0IHZlcmlmaWNhdGlvbiAobm93IHNldCBhdXRvbWF0aWNhbGx5IG9uIHZhbGlkIG5vdGlmaWNhdGlvbikKICBkZXBvc2l0VmVyaWZpZWQ6IEJvb2w7CgogIC8vIHByZXZlbnQgZG91YmxlIHBheW91dAogIHBheW91dEF0dGVtcHRlZDogQm9vbDsKCiAgLy8gLS0tLS0tLS0tLSBjb25zdHJ1Y3RvciAtLS0tLS0tLS0tCiAgaW5pdCgKICAgIHNlbGxlcl86IEFkZHJlc3MsCiAgICBidXllcl86IEFkZHJlc3MsCiAgICBhZG1pbl86IEFkZHJlc3MsCiAgICBhbW91bnRfOiBJbnQgYXMgdWludDEyOCwKICAgIGNvbW1pc3Npb25CcHNfOiBJbnQgYXMgdWludDE2LAogICAgZmVlVzFfOiBBZGRyZXNzLAogICAgZmVlVzJfOiBBZGRyZXNzLAogICAgZmVlVzNfOiBBZGRyZXNzLAogICAgZGVhZGxpbmVfOiBJbnQgYXMgdWludDY0LAogICAgZXhwZWN0ZWRKZXR0b25XYWxsZXRfOiBBZGRyZXNzICAgIC8vIFJFUVVJUkVEIC0gcHJlY29tcHV0ZWQgYnkgYm90IGZyb20gVVNEVF9NQVNURVIgKyBlc2Nyb3dfYWRkcmVzcwogICkgewogICAgcmVxdWlyZShhbW91bnRfID4gMCwgIkFtb3VudCBtdXN0IGJlID4gMCIpOwogICAgcmVxdWlyZShjb21taXNzaW9uQnBzXyA8PSAxMDAwMCwgIkNvbW1pc3Npb24gbXVzdCBiZSA8PSAxMDAlIik7CgogICAgc2VsZi5zZWxsZXIgPSBzZWxsZXJfOwogICAgc2VsZi5idXllciA9IGJ1eWVyXzsKICAgIHNlbGYuYWRtaW4gPSBhZG1pbl87CiAgICBzZWxmLmFtb3VudCA9IGFtb3VudF87CiAgICBzZWxmLmNvbW1pc3Npb25CcHMgPSBjb21taXNzaW9uQnBzXzsKICAgIHNlbGYuZmVlVzEgPSBmZWVXMV87CiAgICBzZWxmLmZlZVcyID0gZmVlVzJfOwogICAgc2VsZi5mZWVXMyA9IGZlZVczXzsKICAgIHNlbGYuZGVhZGxpbmUgPSBkZWFkbGluZV87CiAgICBzZWxmLmV4cGVjdGVkSmV0dG9uV2FsbGV0ID0gZXhwZWN0ZWRKZXR0b25XYWxsZXRfOwogICAgc2VsZi5zdGF0dXMgPSAwOyAgICAgICAgLy8gUGVuZGluZ0RlcG9zaXQKICAgIHNlbGYuZGVwb3NpdGVkID0gMDsKICAgIHNlbGYuamV0dG9uV2FsbGV0ID0gbnVsbDsKICAgIHNlbGYuZGVwb3NpdFZlcmlmaWVkID0gZmFsc2U7CiAgICBzZWxmLnBheW91dEF0dGVtcHRlZCA9IGZhbHNlOwogIH0KCiAgLy8gLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0KICBmdW4gY29tcHV0ZUZlZSh0b3RhbDogSW50KTogSW50IHsKICAgIHJldHVybiAodG90YWwgKiBzZWxmLmNvbW1pc3Npb25CcHMpIC8gMTAwMDA7CiAgfQoKICAvLyBWYWxpZGF0ZSBqZXR0b24gd2FsbGV0OiBtdXN0IG1hdGNoIHRoZSBwcmUtY29tcHV0ZWQgZXhwZWN0ZWRKZXR0b25XYWxsZXQKICBpbmxpbmUgZnVuIGlzRXhwZWN0ZWRKZXR0b24od2FsbGV0OiBBZGRyZXNzKTogQm9vbCB7CiAgICByZXR1cm4gd2FsbGV0ID09IHNlbGYuZXhwZWN0ZWRKZXR0b25XYWxsZXQ7CiAgfQoKICAvLyAtLS0tLS0tLS0tIHRva2VuIGRlcG9zaXQgcmVjZWl2ZXIgKGF1dG8tdmVyaWZ5KSAtLS0tLS0tLS0tCiAgcmVjZWl2ZShtc2c6IFRva2VuTm90aWZpY2F0aW9uKSB7CiAgICAvLyBhY2NlcHQgZGVwb3NpdCBvbmx5IGluIFBlbmRpbmdEZXBvc2l0CiAgICByZXF1aXJlKHNlbGYuc3RhdHVzID09IDAsICJBbHJlYWR5IGRlcG9zaXRlZCIpOwogICAgLy8gZGVwb3NpdCBtdXN0IGNvbWUgZnJvbSByZWdpc3RlcmVkIHNlbGxlciBhZGRyZXNzICh0aGUgamV0dG9uIHRyYW5zZmVyICdmcm9tJykKICAgIHJlcXVpcmUobXNnLmZyb20gPT0gc2VsZi5zZWxsZXIsICJPbmx5IHNlbGxlciBjYW4gZGVwb3NpdCIpOwogICAgLy8gc2VsbGVyIG11c3QgZGVwb3NpdCBleGFjdCBhbW91bnQKICAgIHJlcXVpcmUobXNnLmFtb3VudCA9PSBzZWxmLmFtb3VudCwgIkRlcG9zaXQgbXVzdCBlcXVhbCB0cmFkZSBhbW91bnQiKTsKICAgIC8vIHZlcmlmeSB0aGUgbm90aWZ5aW5nIGNhbGxlciBpcyB0aGUgZXhwZWN0ZWQgamV0dG9uIHdhbGxldAogICAgcmVxdWlyZShzZWxmLmlzRXhwZWN0ZWRKZXR0b24oc2VuZGVyKCkpLCAiSW52YWxpZCBVU0RUIGpldHRvbiB3YWxsZXQiKTsKCiAgICAvLyBzdG9yZSBqZXR0b24gd2FsbGV0IChzZW5kZXIoKSkgYW5kIGRlcG9zaXQgcmVjb3JkCiAgICBzZWxmLmpldHRvbldhbGxldCA9IHNlbmRlcigpOwogICAgc2VsZi5kZXBvc2l0ZWQgPSBtc2cuYW1vdW50OwogICAgLy8gYXV0by12ZXJpZnkgZGVwb3NpdCAobm8gYWRtaW4gYWN0aW9uIHJlcXVpcmVkKQogICAgc2VsZi5kZXBvc2l0VmVyaWZpZWQgPSB0cnVlOwogICAgc2VsZi5zdGF0dXMgPSAxOyAvLyBBY3RpdmUKCiAgICAvLyBlbWl0IGRlcG9zaXQgZXZlbnQgZm9yIG9mZi1jaGFpbiBpbmRleGluZwogICAgZW1pdChEZXBvc2l0UmVjZWl2ZWR7CiAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgZnJvbTogbXNnLmZyb20sCiAgICAgIGpldHRvbldhbGxldDogc2VuZGVyKCkKICAgIH0udG9DZWxsKCkpOwogIH0KCiAgLy8gLS0tLS0tLS0tLSBzZWxsZXIgY29uZmlybXMgZGVsaXZlcnkgPT4gcmVsZWFzZSBmdW5kcyAtLS0tLS0tLS0tCiAgcmVjZWl2ZShtc2c6IENvbmZpcm1EZWxpdmVyeSkgewogICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLnNlbGxlciwgIk9ubHkgc2VsbGVyIGNhbiBjb25maXJtIik7CiAgICByZXF1aXJlKHNlbGYuc3RhdHVzID09IDEsICJNdXN0IGJlIGFjdGl2ZSAtIGFscmVhZHkgcmVzb2x2ZWQiKTsgICAgICAgICAgICAgICAgLy8gQWN0aXZlCiAgICByZXF1aXJlKHNlbGYuZGVwb3NpdFZlcmlmaWVkLCAiRGVwb3NpdCBub3QgdmVyaWZpZWQiKTsKICAgIHJlcXVpcmUoIXNlbGYucGF5b3V0QXR0ZW1wdGVkLCAiUGF5b3V0IGFscmVhZHkgYXR0ZW1wdGVkIik7CgogICAgLy8gbWFyayBSZWxlYXNlZCBhbmQgcGF5b3V0IGF0dGVtcHRlZAogICAgc2VsZi5zdGF0dXMgPSAzOyAvLyBSZWxlYXNlZAogICAgc2VsZi5wYXlvdXRBdHRlbXB0ZWQgPSB0cnVlOwoKICAgIGxldCBmZWU6IEludCA9IHNlbGYuY29tcHV0ZUZlZShzZWxmLmRlcG9zaXRlZCk7CiAgICBsZXQgdzE6IEludCA9IGNvbXB1dGVXMShmZWUpOwogICAgbGV0IHcyOiBJbnQgPSBjb21wdXRlVzIoZmVlKTsKICAgIGxldCB3MzogSW50ID0gY29tcHV0ZVczKGZlZSwgdzEsIHcyKTsKICAgIGxldCB0b0J1eWVyOiBJbnQgPSBzZWxmLmRlcG9zaXRlZCAtIGZlZTsKCiAgICAvLyBpc3N1ZSB0cmFuc2ZlcnMgKHNlbmQgdG8gamV0dG9uIHdhbGxldCBjb250cmFjdCB3aXRoIFRva2VuVHJhbnNmZXIgYm9kaWVzKQogICAgc2VsZi5zZW5kSmV0dG9uVHJhbnNmZXIoc2VsZi5idXllciwgdG9CdXllciwgMSwgIlJlbGVhc2UgdG8gYnV5ZXIiKTsKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuZmVlVzEsIHcxLCAyLCAiUGxhdGZvcm0gZmVlIDEiKTsKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuZmVlVzIsIHcyLCAzLCAiUGxhdGZvcm0gZmVlIDIiKTsKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuZmVlVzMsIHczLCA0LCAiUGxhdGZvcm0gZmVlIDMiKTsKCiAgICBlbWl0KFRyYWRlQ29tcGxldGVkewogICAgICBidXllcjogc2VsZi5idXllciwKICAgICAgYW1vdW50OiB0b0J1eWVyLAogICAgICBmZWU6IGZlZQogICAgfS50b0NlbGwoKSk7CiAgfQoKICAvLyAtLS0tLS0tLS0tIGJ1eWVyIHJhaXNlcyBkaXNwdXRlIC0tLS0tLS0tLS0KICByZWNlaXZlKG1zZzogUmFpc2VEaXNwdXRlKSB7CiAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuYnV5ZXIsICJPbmx5IGJ1eWVyIGNhbiBkaXNwdXRlIik7CiAgICByZXF1aXJlKHNlbGYuc3RhdHVzID09IDEsICJNdXN0IGJlIGFjdGl2ZSAtIGFscmVhZHkgcmVzb2x2ZWQiKTsKICAgIHJlcXVpcmUoc2VsZi5kZXBvc2l0VmVyaWZpZWQsICJEZXBvc2l0IG5vdCB2ZXJpZmllZCIpOwogICAgc2VsZi5zdGF0dXMgPSAyOyAvLyBEaXNwdXRlCiAgfQoKICAvLyAtLS0tLS0tLS0tIGFkbWluIHJlc29sdmVzIGluIGZhdm9yIG9mIGJ1eWVyIChyZWxlYXNlIHdpdGggZmVlcykgLS0tLS0tLS0tLQogIHJlY2VpdmUobXNnOiBSZXNvbHZlVG9CdXllcikgewogICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkbWluLCAiT25seSBhZG1pbiBjYW4gcmVzb2x2ZSIpOwogICAgcmVxdWlyZShzZWxmLnN0YXR1cyA9PSAxIHx8IHNlbGYuc3RhdHVzID09IDIsICJJbnZhbGlkIHN0YXR1cyAtIGFscmVhZHkgcmVzb2x2ZWQiKTsKICAgIHJlcXVpcmUoc2VsZi5kZXBvc2l0VmVyaWZpZWQsICJEZXBvc2l0IG5vdCB2ZXJpZmllZCIpOwogICAgcmVxdWlyZSghc2VsZi5wYXlvdXRBdHRlbXB0ZWQsICJQYXlvdXQgYWxyZWFkeSBhdHRlbXB0ZWQiKTsKCiAgICBzZWxmLnN0YXR1cyA9IDM7IC8vIFJlbGVhc2VkCiAgICBzZWxmLnBheW91dEF0dGVtcHRlZCA9IHRydWU7CgogICAgbGV0IGZlZTogSW50ID0gc2VsZi5jb21wdXRlRmVlKHNlbGYuZGVwb3NpdGVkKTsKICAgIGxldCB3MTogSW50ID0gY29tcHV0ZVcxKGZlZSk7CiAgICBsZXQgdzI6IEludCA9IGNvbXB1dGVXMihmZWUpOwogICAgbGV0IHczOiBJbnQgPSBjb21wdXRlVzMoZmVlLCB3MSwgdzIpOwogICAgbGV0IHRvQnV5ZXI6IEludCA9IHNlbGYuZGVwb3NpdGVkIC0gZmVlOwoKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuYnV5ZXIsIHRvQnV5ZXIsIDExLCAiQWRtaW4gcmVsZWFzZSB0byBidXllciIpOwogICAgc2VsZi5zZW5kSmV0dG9uVHJhbnNmZXIoc2VsZi5mZWVXMSwgdzEsIDEyLCAiUGxhdGZvcm0gZmVlIDEiKTsKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuZmVlVzIsIHcyLCAxMywgIlBsYXRmb3JtIGZlZSAyIik7CiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmZlZVczLCB3MywgMTQsICJQbGF0Zm9ybSBmZWUgMyIpOwoKICAgIGVtaXQoVHJhZGVDb21wbGV0ZWR7IGJ1eWVyOiBzZWxmLmJ1eWVyLCBhbW91bnQ6IHRvQnV5ZXIsIGZlZTogZmVlIH0udG9DZWxsKCkpOwogIH0KCiAgLy8gLS0tLS0tLS0tLSBhZG1pbiByZXNvbHZlcyBpbiBmYXZvciBvZiBzZWxsZXIgKHJlZnVuZCBmdWxsKSAtLS0tLS0tLS0tCiAgcmVjZWl2ZShtc2c6IFJlc29sdmVUb1NlbGxlcikgewogICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkbWluLCAiT25seSBhZG1pbiBjYW4gcmVzb2x2ZSIpOwogICAgcmVxdWlyZShzZWxmLnN0YXR1cyA9PSAxIHx8IHNlbGYuc3RhdHVzID09IDIsICJJbnZhbGlkIHN0YXR1cyAtIGFscmVhZHkgcmVzb2x2ZWQiKTsKICAgIHJlcXVpcmUoc2VsZi5kZXBvc2l0VmVyaWZpZWQsICJEZXBvc2l0IG5vdCB2ZXJpZmllZCIpOwogICAgcmVxdWlyZSghc2VsZi5wYXlvdXRBdHRlbXB0ZWQsICJQYXlvdXQgYWxyZWFkeSBhdHRlbXB0ZWQiKTsKCiAgICBzZWxmLnN0YXR1cyA9IDQ7IC8vIFJlZnVuZGVkCiAgICBzZWxmLnBheW91dEF0dGVtcHRlZCA9IHRydWU7CgogICAgLy8gUmVmdW5kIGZ1bGwgZGVwb3NpdGVkIGFtb3VudCB0byBzZWxsZXIKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuc2VsbGVyLCBzZWxmLmRlcG9zaXRlZCwgMjEsICJBZG1pbiByZWZ1bmQgdG8gc2VsbGVyIik7CiAgfQoKICAvLyAtLS0tLS0tLS0tIGNhbmNlbCBpZiBubyBkZXBvc2l0IC0tLS0tLS0tLS0KICByZWNlaXZlKG1zZzogQ2FuY2VsSWZOb0RlcG9zaXQpIHsKICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5zZWxsZXIgfHwgc2VuZGVyKCkgPT0gc2VsZi5hZG1pbiwgIk5vdCBhbGxvd2VkIik7CiAgICByZXF1aXJlKHNlbGYuc3RhdHVzID09IDAsICJOb3QgcGVuZGluZyBkZXBvc2l0Iik7CiAgICAvLyBBZG1pbiBjYW4gY2FuY2VsIGFueXRpbWU7IHNlbGxlciBvbmx5IGFmdGVyIGRlYWRsaW5lIGlmIHNldAogICAgaWYgKHNlbmRlcigpID09IHNlbGYuc2VsbGVyICYmIHNlbGYuZGVhZGxpbmUgIT0gMCkgewogICAgICByZXF1aXJlKG5vdygpID49IHNlbGYuZGVhZGxpbmUsICJTZWxsZXIgbXVzdCB3YWl0IHVudGlsIGRlYWRsaW5lIik7CiAgICB9CiAgICBzZWxmLnN0YXR1cyA9IDQ7IC8vIENhbmNlbGxlZC9SZWZ1bmRlZCAobm8gZGVwb3NpdCkKICB9CgogIC8vIC0tLS0tLS0tLS0gYnV5ZXIgY2xhaW0gd2hlbiBkZWFkbGluZSBwYXNzZXMgLS0tLS0tLS0tLQogIHJlY2VpdmUobXNnOiBDbGFpbUV4cGlyZWQpIHsKICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5idXllciwgIk9ubHkgYnV5ZXIgY2FuIGNsYWltIGV4cGlyZWQiKTsKICAgIHJlcXVpcmUoc2VsZi5zdGF0dXMgPT0gMSwgIk11c3QgYmUgYWN0aXZlIC0gYWxyZWFkeSByZXNvbHZlZCIpOwogICAgcmVxdWlyZShzZWxmLmRlYWRsaW5lICE9IDAsICJObyBkZWFkbGluZSBzZXQiKTsKICAgIHJlcXVpcmUobm93KCkgPj0gc2VsZi5kZWFkbGluZSwgIkRlYWRsaW5lIG5vdCByZWFjaGVkIik7CiAgICByZXF1aXJlKHNlbGYuZGVwb3NpdFZlcmlmaWVkLCAiRGVwb3NpdCBub3QgdmVyaWZpZWQiKTsKICAgIHJlcXVpcmUoIXNlbGYucGF5b3V0QXR0ZW1wdGVkLCAiUGF5b3V0IGFscmVhZHkgYXR0ZW1wdGVkIik7CgogICAgc2VsZi5zdGF0dXMgPSAzOyAvLyBSZWxlYXNlZCB0byBidXllcgogICAgc2VsZi5wYXlvdXRBdHRlbXB0ZWQgPSB0cnVlOwoKICAgIGxldCBmZWU6IEludCA9IHNlbGYuY29tcHV0ZUZlZShzZWxmLmRlcG9zaXRlZCk7CiAgICBsZXQgdzE6IEludCA9IGNvbXB1dGVXMShmZWUpOwogICAgbGV0IHcyOiBJbnQgPSBjb21wdXRlVzIoZmVlKTsKICAgIGxldCB3MzogSW50ID0gY29tcHV0ZVczKGZlZSwgdzEsIHcyKTsKICAgIGxldCB0b0J1eWVyOiBJbnQgPSBzZWxmLmRlcG9zaXRlZCAtIGZlZTsKCiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmJ1eWVyLCB0b0J1eWVyLCAzMSwgIkF1dG8tcmVsZWFzZSBleHBpcmVkIik7CiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmZlZVcxLCB3MSwgMzIsICJQbGF0Zm9ybSBmZWUgMSIpOwogICAgc2VsZi5zZW5kSmV0dG9uVHJhbnNmZXIoc2VsZi5mZWVXMiwgdzIsIDMzLCAiUGxhdGZvcm0gZmVlIDIiKTsKICAgIHNlbGYuc2VuZEpldHRvblRyYW5zZmVyKHNlbGYuZmVlVzMsIHczLCAzNCwgIlBsYXRmb3JtIGZlZSAzIik7CgogICAgZW1pdChUcmFkZUNvbXBsZXRlZHsgYnV5ZXI6IHNlbGYuYnV5ZXIsIGFtb3VudDogdG9CdXllciwgZmVlOiBmZWUgfS50b0NlbGwoKSk7CiAgfQoKICAvLyAtLS0tLS0tLS0tIGhlbHBlcjogYnVpbGQgYW5kIHNlbmQgVG9rZW5UcmFuc2ZlciB0byBqZXR0b24gd2FsbGV0IC0tLS0tLS0tLS0KICBmdW4gc2VuZEpldHRvblRyYW5zZmVyKHRvOiBBZGRyZXNzLCBhbW91bnQ6IEludCwgcXVlcnlJZDogSW50LCBfY29tbWVudDogU3RyaW5nKSB7CiAgICByZXF1aXJlKHNlbGYuamV0dG9uV2FsbGV0ICE9IG51bGwsICJKZXR0b24gd2FsbGV0IG5vdCBzZXQiKTsKCiAgICAvLyBCdWlsZCBUb2tlblRyYW5zZmVyIGJvZHkgKFRFUC03NCBjb21tb24gbGF5b3V0KQogICAgbGV0IGJvZHk6IENlbGwgPSBiZWdpbkNlbGwoKQogICAgICAuc3RvcmVVaW50KDB4MGY4YTdlYTUsIDMyKSAgIC8vIFRva2VuVHJhbnNmZXIgb3Bjb2RlICgzMi1iaXQpCiAgICAgIC5zdG9yZVVpbnQocXVlcnlJZCwgNjQpICAgICAgLy8gcXVlcnkgaWQKICAgICAgLnN0b3JlQ29pbnMoYW1vdW50KSAgICAgICAgICAvLyB0b2tlbiBhbW91bnQgKHRva2VuIHNtYWxsZXN0IHVuaXRzKQogICAgICAuc3RvcmVBZGRyZXNzKHRvKSAgICAgICAgICAgIC8vIGRlc3RpbmF0aW9uCiAgICAgIC5zdG9yZUFkZHJlc3MobXlBZGRyZXNzKCkpICAgLy8gcmVzcG9uc2VEZXN0aW5hdGlvbiA9IHRoaXMgY29udHJhY3QKICAgICAgLnN0b3JlQml0KGZhbHNlKSAgICAgICAgICAgICAvLyBjdXN0b21fcGF5bG9hZCA9IG51bGwKICAgICAgLnN0b3JlQ29pbnMoMCkgICAgICAgICAgICAgICAvLyBmb3J3YXJkVG9uQW1vdW50ICgwKQogICAgICAuc3RvcmVCaXQoZmFsc2UpICAgICAgICAgICAgIC8vIGZvcndhcmRfcGF5bG9hZCA9IGVtcHR5CiAgICAgIC5lbmRDZWxsKCk7CgogICAgLy8gQXR0YWNoIFRPTiBmb3IgZ2FzIHdoZW4gY2FsbGluZyBqZXR0b24gd2FsbGV0CiAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0ISEsCiAgICAgIHZhbHVlOiAxNTAwMDAwMDAsICAvLyAwLjE1IFRPTiAodHVuZSBpbiB0ZXN0cykKICAgICAgbW9kZTogMSwKICAgICAgYm9keTogYm9keQogICAgfSk7CiAgfQoKICAvLyAtLS0tLS0tLS0tIHJldHJ5IHBheW91dHMgKGFkbWluKSAtLS0tLS0tLS0tCiAgcmVjZWl2ZShtc2c6IFJldHJ5UGF5b3V0KSB7CiAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuYWRtaW4sICJPbmx5IGFkbWluIGNhbiByZXRyeSBwYXlvdXRzIik7CiAgICByZXF1aXJlKHNlbGYuc3RhdHVzID09IDMgfHwgc2VsZi5zdGF0dXMgPT0gNCB8fCBzZWxmLnN0YXR1cyA9PSAxLCAiSW52YWxpZCBzdGF0dXMgZm9yIHJldHJ5Iik7IC8vIGFsbG93IHJldHJ5IGluIFJlbGVhc2VkIG9yIFJlZnVuZCBmbG93cyBpZiBwYXlvdXRBdHRlbXB0ZWQgZmxhZ2dlZAogICAgcmVxdWlyZShzZWxmLmRlcG9zaXRWZXJpZmllZCwgIkRlcG9zaXQgbm90IHZlcmlmaWVkIik7CgogICAgLy8gUmUtaXNzdWUgdHJhbnNmZXJzIG9ubHkgaWYgcGF5b3V0IHdhcyBhdHRlbXB0ZWQgKHNvIHJldHJpZXMgYXJlIG1lYW5pbmdmdWwpIE9SIGlmIGNvbnRyYWN0IGluIFJlbGVhc2VkIGFuZCBwYXlvdXRzIG5vdCBkb25lLgogICAgLy8gV2UnbGwgcmVzZW5kIHBheWVyICsgZmVlcyB1c2luZyBuZXcgcXVlcnlJZHMuIEFkbWluIG9mZi1jaGFpbiBzaG91bGQgYXZvaWQgbXVsdGlwbGUgcmV0cnlzIHVubmVjZXNzYXJpbHkuCiAgICBsZXQgZmVlOiBJbnQgPSBzZWxmLmNvbXB1dGVGZWUoc2VsZi5kZXBvc2l0ZWQpOwogICAgbGV0IHcxOiBJbnQgPSBjb21wdXRlVzEoZmVlKTsKICAgIGxldCB3MjogSW50ID0gY29tcHV0ZVcyKGZlZSk7CiAgICBsZXQgdzM6IEludCA9IGNvbXB1dGVXMyhmZWUsIHcxLCB3Mik7CiAgICBsZXQgdG9CdXllcjogSW50ID0gc2VsZi5kZXBvc2l0ZWQgLSBmZWU7CgogICAgLy8gUmUtc2VuZCB1c2luZyBoaWdoIHF1ZXJ5SWRzIHJlc2VydmVkIGZvciByZXRyaWVzCiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmJ1eWVyLCB0b0J1eWVyLCAxMDAxLCAiUmV0cnkgcGF5b3V0IHRvIGJ1eWVyIik7CiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmZlZVcxLCB3MSwgMTAwMiwgIlJldHJ5IGZlZSAxIik7CiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmZlZVcyLCB3MiwgMTAwMywgIlJldHJ5IGZlZSAyIik7CiAgICBzZWxmLnNlbmRKZXR0b25UcmFuc2ZlcihzZWxmLmZlZVczLCB3MywgMTAwNCwgIlJldHJ5IGZlZSAzIik7CgogICAgLy8gRW1pdCBldmVudCAob2ZmLWNoYWluIGNhbiB3YXRjaCB0aGlzKQogICAgZW1pdChQYXlvdXRSZXRyaWVkeyByZXRyaWVkQnk6IHNlbmRlcigpLCBxdWVyeUlkOiAxMDAxIH0udG9DZWxsKCkpOwogIH0KCiAgLy8gLS0tLS0tLS0tLSBlbWVyZ2VuY3kgd2l0aGRyYXcgLS0tLS0tLS0tLQogIHJlY2VpdmUobXNnOiBFbWVyZ2VuY3lXaXRoZHJhdykgewogICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkbWluLCAiT25seSBhZG1pbiIpOwogICAgcmVxdWlyZShzZWxmLmRlcG9zaXRWZXJpZmllZCwgIk5vIHZlcmlmaWVkIGRlcG9zaXQiKTsKICAgIHJlcXVpcmUoc2VsZi5zdGF0dXMgPT0gMSB8fCBzZWxmLnN0YXR1cyA9PSAyLCAiSW52YWxpZCBzdGF0dXMiKTsKCiAgICAvLyBNb3ZlIHRvIHJlZnVuZGVkL2VtZXJnZW5jeSBzdGF0ZQogICAgc2VsZi5zdGF0dXMgPSA0OwogICAgc2VsZi5zZW5kSmV0dG9uVHJhbnNmZXIoc2VsZi5hZG1pbiwgc2VsZi5kZXBvc2l0ZWQsIDExMDAsICJFbWVyZ2VuY3kgd2l0aGRyYXcgdG8gYWRtaW4iKTsKICB9CgogIC8vIGdldHRlcnMgKFRhY3QgYXV0by1nZW5lcmF0ZXMgZ2V0dGVyczsgYWRkaXRpb25hbCBoZWxwZXIgZ2V0dGVycyBjYW4gYmUgYWRkZWQgaWYgbmVlZGVkKQp9Cg=="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"contracts/ton/escrow.tact\",\"options\":{\"debug\":false,\"external\":false}}"}}